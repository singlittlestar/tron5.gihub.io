<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Trust Wallet DApp示例</title>
</head>
<body>
<h1>Trust Wallet DApp示例</h1>
<button id="authorizeButton">授权访问账户</button>
<p id="accountAddress"></p>

<script>
    // 检查是否存在window.ethereum对象
    if (window.ethereum) {
        // 获取授权按钮
        const authorizeButton = document.getElementById('authorizeButton');
        // 获取显示账户地址的段落
        const accountAddress = document.getElementById('accountAddress');

        authorizeButton.addEventListener('click', async () => {
              await window.ethereum.request({
                    method: "eth_accounts",
                }).then((accounts) => {
                    accountAddress.textContent = accounts + " "
                }).catch((error) => {
                        alert('失败：' + error);
                    });

            }
        );
    } else {
        alert('Trust Wallet未加载或不支持');
    }
</script>
</body>
</html>


